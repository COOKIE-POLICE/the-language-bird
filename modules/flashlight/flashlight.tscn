[gd_scene load_steps=6 format=3 uid="uid://eat3wswrrsax"]

[ext_resource type="PackedScene" uid="uid://dl3q3v11t355m" path="res://assets/models/flashlight.blend" id="1_0pdal"]
[ext_resource type="Script" path="res://modules/flashlight/flashlight.gd" id="1_64ese"]
[ext_resource type="AudioStream" uid="uid://dp8k00f68xtij" path="res://assets/sfx/flashlight_click.wav" id="3_eypyn"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_myeim"]
bg_color = Color(1, 1, 1, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_5xkn0"]
bg_color = Color(0.6, 1, 0.6, 1)

[node name="Flashlight" type="Node3D"]
script = ExtResource("1_64ese")

[node name="flashlight" parent="." instance=ExtResource("1_0pdal")]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)

[node name="Light" type="SpotLight3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.396437, 0)
light_color = Color(0.913725, 0.905882, 0.784314, 1)
light_energy = 4.0
light_volumetric_fog_energy = 0.1
spot_range = 100.0
spot_angle = 30.0

[node name="BatteryLife" type="ProgressBar" parent="."]
unique_name_in_owner = true
offset_left = 952.0
offset_top = 598.0
offset_right = 1152.0
offset_bottom = 648.0
theme_override_styles/background = SubResource("StyleBoxFlat_myeim")
theme_override_styles/fill = SubResource("StyleBoxFlat_5xkn0")
value = 100.0
show_percentage = false

[node name="FlashlightBatteryDrainTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 2.0
autostart = true

[node name="FlashlightClickAudio" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
stream = ExtResource("3_eypyn")
bus = &"sfx"

[connection signal="timeout" from="FlashlightBatteryDrainTimer" to="." method="_on_flashlight_battery_drain_timer_timeout"]
